<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.application.Controller.Admin.UpdateEmployeeController"
            fx:id="rootPane">




    <!-- Left Sidebar -->
    <left>
        <VBox styleClass="sidebar"
              spacing="15"
              alignment="TOP_CENTER">
            <padding>
                <Insets top="30" bottom="30" left="20" right="20"/>
            </padding>

            <!-- Logo -->
            <Label>
                <graphic>
                    <ImageView fx:id="logoImageView"
                               fitHeight="200" fitWidth="200" preserveRatio="true">
                        <image>
                            <Image url="@../../images/logo.png"/>
                        </image>
                    </ImageView>
                </graphic>
            </Label>

            <Separator prefWidth="200"/>

            <!-- Sidebar Buttons -->
            <Button text="Dashboard" onAction="#handleDashboard" prefWidth="210" prefHeight="40" styleClass="sidebar-button"/>
            <Button text="Sales" onAction="#handleSales" prefWidth="210" prefHeight="40" styleClass="sidebar-button"/>
            <Button text="Inventory" onAction="#handleInventory" prefWidth="210" prefHeight="40" styleClass="sidebar-button"/>
            <Button text="Add Employee" onAction="#handleAddEmployee" prefWidth="210" prefHeight="40" styleClass="sidebar-button"/>
            <Button text="Update Employee" onAction="#handleUpdateEmployee" prefWidth="210" prefHeight="40" styleClass="sidebar-button active"/>
            <Button text="About" onAction="#handleAbout" prefWidth="210" prefHeight="40" styleClass="sidebar-button"/>
            <Button text="Settings" onAction="#handleSettings" prefWidth="210" prefHeight="40" styleClass="sidebar-button"/>


            <Region VBox.vgrow="ALWAYS"/>

            <Button fx:id="logoutButton" text="Logout" onAction="#handleLogout" prefWidth="210" prefHeight="40" styleClass="sidebar-button">
                <VBox.margin>
                    <Insets top="20"/>
                </VBox.margin>
            </Button>
        </VBox>
    </left>




    <!-- Center Content -->
    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true" vbarPolicy="AS_NEEDED" hbarPolicy="AS_NEEDED">
            <SplitPane dividerPositions="0.65" orientation="HORIZONTAL">
                <padding>
                    <Insets top="20" right="10" bottom="20" left="20"/>
                </padding>

                <!-- الجدول (الجزء الأيسر) -->
                <TableView fx:id="employeeTable">
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                    </columnResizePolicy>
                    <columns>
                        <TableColumn text="EMP_ID" fx:id="empIdCol" prefWidth="80" minWidth="60" maxWidth="120" />
                        <TableColumn text="First Name" fx:id="firstNameCol" prefWidth="140" minWidth="100" />
                        <TableColumn text="Last Name" fx:id="lastNameCol" prefWidth="140" minWidth="100" />
                        <TableColumn text="Contact Number" fx:id="contactCol" prefWidth="130" minWidth="100" />
                        <TableColumn text="Position" fx:id="positionCol" prefWidth="160" minWidth="120" />
                        <TableColumn text="Status" fx:id="statusCol" prefWidth="100" minWidth="80" />
                        <TableColumn text="Created At" fx:id="createdAtCol" prefWidth="160" minWidth="120" />
                    </columns>
                </TableView>

                <!-- الفورم (الجزء الأيمن) - معدل ليبقى شبه Add Employee -->
                <ScrollPane fitToWidth="true" fitToHeight="true" vbarPolicy="AS_NEEDED" hbarPolicy="NEVER">
                    <VBox spacing="20" alignment="TOP_CENTER">
                        <padding>
                            <Insets top="50" right="100" bottom="50" left="50"/>
                        </padding>

                        <Label text="Update Employee" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>

                        <VBox spacing="10"
                              styleClass="employee-form-card"
                              maxWidth="400"
                              prefWidth="400">

                            <padding>
                                <Insets top="20" right="20" bottom="20" left="20"/>
                            </padding>

                            <HBox spacing="5">
                                <TextField fx:id="searchIdField" promptText="Enter EMP ID or Name" HBox.hgrow="ALWAYS"/>
                                <Button text="Search" onAction="#searchEmployee" styleClass="search-button" />
                            </HBox>

                            <Separator/>

                            <Label text="First Name"/>
                            <TextField fx:id="firstNameField"/>

                            <Label text="Last Name"/>
                            <TextField fx:id="lastNameField"/>

                            <Label text="Contact Number"/>
                            <TextField fx:id="contactField"/>

                            <Label text="Password"/>
                            <PasswordField fx:id="passwordField"/>

                            <Label text="Role"/>
                            <ComboBox fx:id="roleComboBox"/>

                            <Label text="Status"/>
                            <ComboBox fx:id="statusComboBox"/>

                            <Label text="Created At"/>
                            <DatePicker fx:id="createdAtPicker"/>

                            <Button text="Update Record" onAction="#updateRecord" prefHeight="45" prefWidth="300" styleClass="save-button" />
                            <Label fx:id="statusLabel"/>
                        </VBox>
                    </VBox>
                </ScrollPane>
            </SplitPane>
        </ScrollPane>
    </center>
</BorderPane>
